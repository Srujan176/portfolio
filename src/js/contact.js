const f=document.getElementById("contact-form");const s=document.getElementById("contact-status");f&&f.addEventListener("submit",async e=>{e.preventDefault();s.textContent="Sending...";const fd=new FormData(f);const payload=Object.fromEntries(fd.entries());const ti=document.querySelector("[name=cf-turnstile-response]");const turnstileToken=ti?ti.value:"";try{const res=await fetch(f.action,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...payload,turnstileToken})});if(!res.ok)throw new Error();const data=await res.json();s.textContent=data.message||"Thanks!";f.reset();window.turnstile&&window.turnstile.reset()}catch(err){s.textContent="Sorry, something went wrong."}})