name = "portfolio"
compatibility_date = "2026-02-21"

# Entry point to your Worker code
main = "worker/src/index.ts"

# Serve your static site (HTML/CSS/JS, and the PDF you moved into src/)
[assets]
directory = "./src"
binding = "ASSETS"

# Ensure the Worker handles these paths BEFORE static assets.
# This lets us do D1/KV logic, then return a file (e.g., /Srujan_Kumar_Resume.pdf with a counter).
run_worker_first = ["/contact", "/go/*", "/badge", "/Srujan_Kumar_Resume.pdf"]

[observability]
enabled = true

# D1
[[d1_databases]]
binding = "DB"
database_name = "resume_db"
database_id = "2c842a63-a1f3-4e43-bbf3-32863d90627b"

# KV
[[kv_namespaces]]
binding = "KV"
id = "5f01c8e42a294f9cbf1e7541148ce714"

# Optional non-secret vars
[vars]
OPEN_TO_WORK_DEFAULT = "true"